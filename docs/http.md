[toc]

# [http](https://www.cnblogs.com/an-wen/p/11180076.html)

## HTTP协议简介

超文本传输协议（英文：HyperText Transfer Protocol，缩写：HTTP）是一种用于分布式、协作式和超媒体信息系统的应用层协议。HTTP是万维网的数据通信的基础。

HTTP的发展是由蒂姆·伯纳斯-李于1989年在欧洲核子研究组织（CERN）所发起。HTTP的标准制定由万维网协会（World Wide Web Consortium，W3C）和互联网工程任务组（Internet Engineering Task Force，IETF）进行协调，最终发布了一系列的RFC，其中最著名的是1999年6月公布的 RFC 2616，定义了HTTP协议中现今广泛使用的一个版本——HTTP 1.1。

2014年12月，互联网工程任务组（IETF）的Hypertext Transfer Protocol Bis（httpbis）工作小组将HTTP/2标准提议递交至IESG进行讨论，于2015年2月17日被批准。 HTTP/2标准于2015年5月以RFC 7540正式发表，取代HTTP 1.1成为HTTP的实现标准。
## HTTP协议概述
HTTP是一个客户端终端（用户）和服务器端（网站）请求和应答的标准（TCP）。通过使用网页浏览器、网络爬虫或者其它的工具，客户端发起一个HTTP请求到服务器上指定端口（默认端口为80）。我们称这个客户端为用户代理程序（user agent）。应答的服务器上存储着一些资源，比如HTML文件和图像。我们称这个应答服务器为源服务器（origin server）。在用户代理和源服务器中间可能存在多个“中间层”，比如代理服务器、网关或者隧道（tunnel）。

尽管TCP/IP协议是互联网上最流行的应用，HTTP协议中，并没有规定必须使用它或它支持的层。事实上，HTTP可以在任何互联网协议上，或其他网络上实现。HTTP假定其下层协议提供可靠的传输。因此，任何能够提供这种保证的协议都可以被其使用。因此也就是其在TCP/IP协议族使用TCP作为其传输层。

通常，由HTTP客户端发起一个请求，创建一个到服务器指定端口（默认是80端口）的TCP连接。HTTP服务器则在那个端口监听客户端的请求。一旦收到请求，服务器会向客户端返回一个状态，比如"HTTP/1.1 200 OK"，以及返回的内容，如请求的文件、错误消息、或者其它信息。


## HTTP工作原理
HTTP协议定义Web客户端如何从Web服务器请求Web页面，以及服务器如何把Web页面传送给客户端。HTTP协议采用了请求/响应模型。客户端向服务器发送一个请求报文，请求报文包含请求的方法、URL、协议版本、请求头部和请求数据。服务器以一个状态行作为响应，响应的内容包括协议的版本、成功或者错误代码、服务器信息、响应头部和响应数据。

以下是 HTTP 请求/响应的步骤：

\1. 客户端连接到Web服务器
一个HTTP客户端，通常是浏览器，与Web服务器的HTTP端口（默认为80）建立一个TCP套接字连接。例如，http://www.luffycity.com。

\2. 发送HTTP请求
通过TCP套接字，客户端向Web服务器发送一个文本的请求报文，一个请求报文由请求行、请求头部、空行和请求数据4部分组成。

\3. 服务器接受请求并返回HTTP响应
Web服务器解析请求，定位请求资源。服务器将资源复本写到TCP套接字，由客户端读取。一个响应由状态行、响应头部、空行和响应数据4部分组成。

\4. 释放连接TCP连接
若connection 模式为close，则服务器主动关闭TCP连接，客户端被动关闭连接，释放TCP连接;若connection 模式为keepalive，则该连接会保持一段时间，在该时间内可以继续接收请求;

\5. 客户端浏览器解析HTML内容
客户端浏览器首先解析状态行，查看表明请求是否成功的状态代码。然后解析每一个响应头，响应头告知以下为若干字节的HTML文档和文档的字符集。客户端浏览器读取响应数据HTML，根据HTML的语法对其进行格式化，并在浏览器窗口中显示。

例如：在浏览器地址栏键入URL，按下回车之后会经历以下流程：

浏览器向 DNS 服务器请求解析该 URL 中的域名所对应的 IP 地址;
解析出 IP 地址后，根据该 IP 地址和默认端口 80，和服务器建立TCP连接;
浏览器发出读取文件(URL 中域名后面部分对应的文件)的HTTP 请求，该请求报文作为 TCP 三次握手的第三个报文的数据发送给服务器;
服务器对浏览器请求作出响应，并把对应的 html 文本发送给浏览器;
释放 TCP连接;
浏览器将该 html 文本并显示内容; 　

## HTTP请求方法
HTTP/1.1协议中共定义了八种方法（也叫“动作”）来以不同方式操作指定的资源：
GET
向指定的资源发出“显示”请求。使用GET方法应该只用在读取数据，而不应当被用于产生“副作用”的操作中，例如在Web Application中。其中一个原因是GET可能会被网络蜘蛛等随意访问。

HEAD
与GET方法一样，都是向服务器发出指定资源的请求。只不过服务器将不传回资源的本文部分。它的好处在于，使用这个方法可以在不必传输全部内容的情况下，就可以获取其中“关于该资源的信息”（元信息或称元数据）。

POST
向指定资源提交数据，请求服务器进行处理（例如提交表单或者上传文件）。数据被包含在请求本文中。这个请求可能会创建新的资源或修改现有资源，或二者皆有。

PUT
向指定资源位置上传其最新内容。

DELETE
请求服务器删除Request-URI所标识的资源。

TRACE
回显服务器收到的请求，主要用于测试或诊断。

OPTIONS
这个方法可使服务器传回该资源所支持的所有HTTP请求方法。用'*'来代替资源名称，向Web服务器发送OPTIONS请求，可以测试服务器功能是否正常运作。

CONNECT
HTTP/1.1协议中预留给能够将连接改为管道方式的代理服务器。通常用于SSL加密服务器的链接（经由非加密的HTTP代理服务器）。

注意事项：

方法名称是区分大小写的。当某个请求所针对的资源不支持对应的请求方法的时候，服务器应当返回状态码405（Method Not Allowed），当服务器不认识或者不支持对应的请求方法的时候，应当返回状态码501（Not Implemented）。
HTTP服务器至少应该实现GET和HEAD方法，其他方法都是可选的。当然，所有的方法支持的实现都应当匹配下述的方法各自的语义定义。此外，除了上述方法，特定的HTTP服务器还能够扩展自定义的方法。例如PATCH（由 RFC 5789 指定的方法）用于将局部修改应用到资源。
请求方式: get与post请求（通过form表单我们自己写写看）
GET提交的数据会放在URL之后，也就是请求行里面，以?分割URL和传输数据，参数之间以&相连，如EditBook?name=test1&id=123456.（请求头里面那个content-type做的这种参数形式，后面讲） POST方法是把提交的数据放在HTTP包的请求体中.

GET提交的数据大小有限制（因为浏览器对URL的长度有限制），而POST方法提交的数据没有限制.

GET与POST请求在服务端获取请求数据方式不同，就是我们自己在服务端取请求数据的时候的方式不同了，这句废话昂。


## 后台题目

### 操作系统
#### 1. 谈谈你对内核态的理解，操作系统什么时候会陷入内核态，如何避免

1.进行系统调用的时候。比如创建文件，操作系统要读写磁盘
2.硬件中断发生的时候。比如按下键盘，操作系统要读取按键
3.发生异常的时候。比如缺页异常，操作系统要分配物理内存给应用程序

#### 2. [什么是内核线程](https://www.cnblogs.com/alantu2018/p/8526916.html)

内核线程是直接由内核本身启动的进程。内核线程实际上是将内核函数委托给独立的进程，它与内核中的其他进程”并行”执行。内核线程经常被称之为内核守护进程。
内核线程由内核自身生成，其特点在于
它们在CPU的管态执行，而不是用户态。
它们只可以访问虚拟地址空间的内核部分（高于TASK_SIZE的所有地址），但不能访问用户空间

#### 3. fork()函数族和clone()函数族的区别，什么是写时复制，为什么要用这种方式
clone函数功能强大，带了众多参数，因此由他创建的进程要比前面fork,vfork种方法要复杂，而fork与vfork都是无参数的，即共享那些资源早已规定。
clone可以让你有选择性的继承父进程的资源，你可以选择想vfork一样和父进程共享一个虚存空间，从而使创造的是线程，你也可以不和父进程共享，你甚至可以选择创造出来的进程和父进程不再是父子关系，而是兄弟关系。
#### 4. exec()和fork()的区别
fork 函数我们知道fork出来的进程几乎是完全一样的，这感觉并没有什么用，所以我们想着使用这个新的进程去干点大事，例如运行一个别的程序 A ，一旦系统调用 exec() 函数族的函数，那么当前进程（也就是和父进程一样的进程）就死掉了，不再执行 exec() 后面的代码，即这个创建出来的进程就被进程 A 给替换了，系统重新分配资源，只留下进程号pid。
#### 5. 常用linux指令，查看端口情况，网络情况，内存情况的指令
lsof,netstat,
traceroute命令可以用来查看数据包在主机到目的主机之间传输时，经过路由器的信息。
free

#### 6. linux有两种实时调度策略，谈谈你对它们的理解
#### 7. linux提供了哪些同步方法
#### 8. 谈谈对linux中信号量的理解

### 网络
#### 1. 如何判断一个你打向的ip在国内还是国外，用什么工具？
#### 2. 判断你的请求数据包被转发了几次，路径是什么，用什么工具？
traceroute命令可以用来查看数据包在主机到目的主机之间传输时，经过路由器的信息。
#### 3. Http状态码 205、401、403、503是什么
#### 4. 内部接口互相调用，如果要增加鉴权，鉴权是放在header里还是body里，为什么
#### 5. 外部接口调用，如果要有防重放的攻击检测，如何保证安全性
#### 6. tcp为什么要四次挥手，为什么不是三次
#### 7. http1.0和1.1的区别 1.1和2的最大区别
#### 8. ssl和https
#### 9. 洪水攻击原理

### 数据结构
#### 1. 什么是堆，什么场景下用堆
#### 2. 你有看过什么语言下的数据结构相关的sdk源码，有看过STL中的吗（C++问题就不列举了）
#### 3. 有实现过某种二叉平衡树吗，难点在哪里，红黑树呢
#### 4. map为什么能o(1)时间复杂度完成set/get操作，hashMap扩容如何保证在新的map里hash取到原来的值，并且这种hash是公平的

### 组成原理
#### 1. cpu栈寄存器 指针寄存器
#### 2. smp对称多处理器 是如何在总线上实现信号的同步，如何实现各个cpu中缓存行的一致性
#### 3. 有研究过x86吗
#### 4. l1 l2 l3 cache

### 算法
#### 1. 给n个人 再给n个人的朋友关系 1-2这种表示1和2是朋友 2和1也是朋友，再给一个int k，问能否把这n个人分成k组，每组的人彼此都不是朋友，如果能，输出这种结果
#### 
#### 2. excel里的列数如下 A,B,C…Z…AA,AB,AC…AZ,BA…AAA…给你一个字符串 问它是excel里的多少列 如AB就是28列
#### 
#### 3. 一个正整数k 问有没有一个所有位数都是1的数字，正好整除这个k，如果有，返回所有合法数中最小的那个的的位数，没有返回-1，如给你3，那么111是合法数中最小的，返回3