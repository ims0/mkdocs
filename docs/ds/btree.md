
## B 树

大部分非关系型数据库 mongoDB 用 B- 树作为索引


下面来具体介绍一下B-树（Balance Tree），一个m阶的B树具有如下几个特征：  
m 阶数，最小度数k >= 2; and m/2 <= k <= m

1. 根结点至少有一个关键字两个子女。(t=2)
2. 中间节点都包含k-1个元素和k个孩子 
3. 叶子节点都包含k-1个元素
4. 所有的叶子结点都位于同一层。
5. 每个节点中的元素从小到大排列，节点当中k-1个元素正好是k个孩子包含的元素的值域分划。

## B+
B+树是B树的一种变形，比B树具有更广泛的应用，m阶 B+树有如下特征: 
m/2 <= k <= m

1. 根结点至少有两个子女;
2. 中间结点都含有k关键字以及k个子节点； 
3. 叶子节点都包含k个元素
4. B+树的查找与B树不同，当索引部分某个结点的关键字与所查的关键字相等时，并不停止查找，应继续沿着这个关键字左边的指针向下，一直查到该关键字所在的叶子结点为止。

## B+树与B-树
B+树是应文件系统所需而产生的一种B-树的变形树。一棵m阶的B+树和m阶的B树的差异在于:

1. 有n棵子树的结点中含有n个关键码；
2. 所有的叶子结点中包含了全部关键码的信息，及指向含有这些关键码记录的指针，且叶子结点本身依关键码的大小自小而大的顺序链接；
3. 所有的非终端结点可以看成是索引部分，结点中仅含有其子树根结点中最大(或最小)关键码。


这都是由于B+树和B具有不同的存储结构所造成的区别，
以一个m阶树为例。

1. **关键字的数量** 不同；B+树中分支结点有m个关键字，其叶子结点也有m个，其关键字只是起到了一个索引的作用，但是B树虽然也有m个子结点，但是其只拥有m-1个关键字。
2. **数据存储的位置** 不同；B+树中的数据都存储在叶子结点上，也就是其所有叶子结点的数据组合起来就是完整的数据，但是B树的数据存储在每一个结点中，并不仅仅存储在叶子结点上。
4. **查询** 不同；B树在找到具体的数值以后，则结束，而B+树则需要通过索引找到叶子结点中的数据才结束，也就是说B+树的搜索过程中走了一条从根结点到叶子结点的路径。

 B+树优点：由于B+树的数据都存储在叶子结点中，分支结点均为索引，方便扫库，只需要扫一遍叶子结点即可，但是B树因为其分支结点同样存储着数据，我们要找到具体的数据，需要进行一次中序遍历按序来扫，所以B+树更加适合在区间查询的情况，所以通常B+树用于数据库索引，而B树则常用于文件索引。
